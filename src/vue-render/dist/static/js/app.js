webpackJsonp([1],{"+hAf":function(e,t){},"09yM":function(e,t){},"0CLL":function(e,t){},"1ghf":function(e,t){},"3rt+":function(e,t){},"DW+F":function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("kV13"),r={name:"Menu",components:{},props:{},data:function(){return{isCollapse:!1}},methods:{handleOpen:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t)}},watch:{},filters:{},mounted:function(){}},i={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"Menu"},[n("el-menu",{attrs:{"default-active":"/GenTrade","default-openeds":["/GenTrade"],collapse:e.isCollapse,router:""}},[n("el-submenu",{attrs:{index:"1"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-s-tools"}),e._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[e._v("工具")])]),e._v(" "),n("el-menu-item",{attrs:{index:"/GenTrade"}},[e._v("生成交易")]),e._v(" "),n("el-menu-item",{attrs:{index:"/GenPrintF"}},[e._v("生成打印F表")]),e._v(" "),n("el-menu-item",{attrs:{index:"/GenInterface"}},[e._v("生成接口")])],2)],1)],1)},staticRenderFns:[]};var o={name:"App",components:{Menu:n("C7Lr")(r,i,!1,function(e){n("yfIn")},"data-v-69219a49",null).exports},data:function(){return{menuWidth:200}},computed:{left:function(){return this.menuWidth-200}},methods:{func:function(e){this.menuWidth=e?0:200}}},s={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"menu",style:{left:e.left+"px"}},[n("Menu")],1),e._v(" "),n("div",{staticClass:"tools-container",style:{marginLeft:e.menuWidth+"px"}},[n("router-view"),e._v(" "),n("i",{directives:[{name:"show",rawName:"v-show",value:200==e.menuWidth,expression:"menuWidth==200"}],staticClass:"el-icon-d-arrow-left handle-icon",on:{click:function(t){return e.func(!0)}}}),e._v(" "),n("i",{directives:[{name:"show",rawName:"v-show",value:0==e.menuWidth,expression:"menuWidth==0"}],staticClass:"el-icon-d-arrow-right handle-icon",on:{click:function(t){return e.func(!1)}}})],1)])},staticRenderFns:[]};var l=n("C7Lr")(o,s,!1,function(e){n("DW+F")},"data-v-956f53a0",null).exports,u=n("7LQH"),c={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"Home"},[t("div",[this._v("home")])])}]};var d=n("C7Lr")({name:"Home",components:{},props:{},data:function(){return{}},methods:{},watch:{},filters:{},mounted:function(){}},c,!1,function(e){n("iWT2")},"data-v-551d7287",null).exports,p=n("lC5x"),m=n.n(p),f=n("J0Oq"),v=n.n(f),h=n("3cXf"),g=n.n(h),w=[{name:"v-model",attrPosition:"data"},{name:":disabled",attrPosition:"tag",value:!0},{name:"parafile",attrPosition:"tag",value:""},{name:":success",attrPosition:"methods",args:["name","age"]}],A=[{label:"账号",value:"ACC",isFullRow:!1,tagName:"custom-input",compAttr:JSON.parse(g()(w))},{label:"账号1",value:"ACC1",isFullRow:!1,tagName:"custom-selector",compAttr:JSON.parse(g()(w))},{label:"账号2",value:"ACC2",isFullRow:!1,tagName:"custom-selector",compAttr:JSON.parse(g()(w))},{label:"账号3",value:"ACC3",isFullRow:!1,tagName:"custom-selector",compAttr:JSON.parse(g()(w))}],F=[{groupTitle:"客户信息",label:"账号",":requisite":!0},{groupTitle:"客户信息",label:"账号1",":requisite":!0},{groupTitle:"客户信息",label:"账号2",":requisite":!0},{groupTitle:"客户信息1",label:"账号3",":requisite":!0}],T={getStandardConfig:function(e){var t=this;return v()(m.a.mark(function n(){var a;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.success(JSON.parse(g()(A)),"成功"),t.abrupt("return",a);case 2:case"end":return t.stop()}},n,t)}))()},transformExcelData:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:JSON.parse(g()(F)),a=n.map(function(e){return e.groupTitle});return a=(a=a.filter(function(e,t){return a.indexOf(e)==t})).map(function(e,t){return{groupTitle:e,groupId:t}}),n.forEach(function(e){var t=a.find(function(t){return t.groupTitle==e.groupTitle});e.groupId=t.groupId}),{excelData:n,msgs:this.findEnFieldName(e,t,n).msgs}},findEnFieldName:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=[],r=function(e){var r=n[e],i=t.find(function(e){return e.label==r.label});if(i){r.value=i.value,r.compAttr=i.compAttr,r.isFullRow=i.isFullRow,r.tagName=i.tagName;for(var o=0;o<r.compAttr.length;o++){var s=i.compAttr[o];if("methods"==s.attrPosition){var l=s.name.replace(/:/g,"").toLocaleLowerCase();l=l.charAt(0).toUpperCase()+l.substr(1);var u=""+i.value+l;s.value=u}else"data"==s.attrPosition&&"v-model"==s.name&&(s.value=i.value)}var c=r.compAttr;r.tagName;r.hasOwnProperty(":requisite")&&c.push({name:":requisite",attrPosition:"tag",value:r[":requisite"]});var d={name:"ref",value:r.value,attrPosition:"tag"},p={name:"property",value:r.value,attrPosition:"tag"},m={name:"label",value:r.label,attrPosition:"tag"};c.splice(1,0,p),c.splice(1,0,d),c.splice(1,0,m)}else a.push(r.label)},i=0;i<n.length;i++)r(i);return{msgs:a}}},C=n("ZLEe"),_=n.n(C),x=n("89ll"),b=n.n(x);function P(e,t){var n=[],a=[];if(t.compAttr.every(function(e){return Boolean(e.attrPosition)})){for(var r=0;r<t.compAttr.length;r++){var i=t.compAttr[r];"methods"==i.attrPosition?n.push({name:i.name,args:i.args,value:i.value}):"data"==i.attrPosition&&("v-model"==i.name?(i.value="TradeData."+t.value,a.push(t.value)):a.push(i.value))}!function(e,t){var n=t.compAttr,a=t.tagName,r="<"+a+" "+(n=(n=n.filter(function(e){return Boolean(e.value)})).map(function(t){return!1===t.value||""===t.value||void 0===t.value?(e.alert(g()(t)+" 无value值"),""):t.name+'="'+t.value+'"'})).join(" ")+"></"+a+">";t.compTpl=r}(e,t)}else e.alert("<p>有属性没有attrPosition"+g()(t)+"</p>");return{methods:n,dataFields:a}}var N={genAll:function(e,t){var n=function(e,t){for(var n=[],a=[],r=0;r<t.length;r++){var i=t[r];if("custom-table"==i.tagName){var o={tplStr:[],methods:[],dataFields:[]},s=o.methods,l=o.dataFields;n=n.concat(s),a=a.concat(l)}else{var u=P(e,i),c=u.methods,d=u.dataFields;n=n.concat(c),a=a.concat(d)}}return{standardFields:t,methodsAll:n=function(e,t){return t=t.map(function(e){return"async "+e.value+"("+(e.args||[]).join(",")+"){}"})}(0,n),dataFieldsAll:a}}(e,t);return{excelFieldsAll:n.standardFields,methodsAll:n.methodsAll,dataFieldsAll:n.dataFieldsAll}},twoDimensionalArray:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],a=b.a.groupBy(t,function(e){return e.groupId}),r=Math.max.apply(null,_()(a)),i=0;i<=r;i++)n.push(a[i]);return n=n.map(function(e){return function(e){for(var t=[],n=0;n<e.length;n++){var a=e[n];if(0==t.length)t.push([a]);else{var r=t[t.length-1],i=r[r.length-1];2==r.length?t.push([a]):i.isFullRow?t.push([a]):r.push(a)}}return t}(e)})}},y={name:"GenTrade",data:function(){return{tplsStr:"",excelFieldsAll:[{groupId:0,groupTitle:"客户信息",isFullRow:!1,compTpl:"<div></div>"}],methodsAll:[],distTplData:[]}},methods:{genTradeTpl:function(){var e=this;return v()(m.a.mark(function t(){var n,a,r,i,o,s,l,u,c,d,p;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.getStandardConfig(e);case 2:if((n=t.sent).isSuccess){t.next=6;break}return e.$notify({title:n.msg,duration:0}),t.abrupt("return");case 6:if(a=n.data,r=T.transformExcelData(e,a),i=r.excelData,!((o=r.msgs).length>0)){t.next=15;break}return(o=o.map(function(e){return" "+e+" "})).unshift('<div style="font-weight:bold;font-size:17px;">请联系标准组添加以下字段后再生成交易</div>'),s=o.join(""),e.alert(s,"提示"),t.abrupt("return");case 15:l=N.genAll(e,i),u=l.excelFieldsAll,c=l.methodsAll,d=l.dataFieldsAll,u=u.map(function(e){return{groupId:e.groupId,groupTitle:e.groupTitle,isFullRow:e.isFullRow,compTpl:e.compTpl}}),p=N.twoDimensionalArray(e,u),e.distTplData=p,e.writeToFile({distTplData:p,methodsAll:c,dataFieldsAll:d});case 20:case"end":return t.stop()}},t,e)}))()},writeToFile:function(e){var t=e.distTplData,n=e.methodsAll,a=this,r={tradeCode:"t00101001",groups:t,dataFieldsAll:e.dataFieldsAll,methodsAll:n},i=window.m,o=i.path,s=i.fs,l=(i.process,i.ejs),u=window.m.process.cwd(),c=o.resolve(u,"src/vue-render/tpls","App.ejs"),d=o.resolve(u,"src/vue-render/tpls","App.vue");l.renderFile(c,r,function(e,t){e?a.alert("写入文件"+c+"失败"):s.writeFileSync(d,t,{pretty:!0})})}}},G={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"GenTrade"},[t("el-button",{on:{click:this.genTradeTpl}},[this._v("生成交易")]),this._v(" "),t("div",[this._v("\n    "+this._s(this.tplsStr)+"\n  ")])],1)},staticRenderFns:[]};var R=n("C7Lr")(y,G,!1,function(e){n("gR3i")},"data-v-0112fee2",null).exports,I={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"GenPrintF"},[this._v("GenPrintF")])},staticRenderFns:[]};var L=n("C7Lr")({name:"GenPrintF",components:{},props:{},data:function(){return{}},methods:{},watch:{},filters:{},mounted:function(){}},I,!1,function(e){n("1ghf")},"data-v-b8d00f6e",null).exports,S={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"GenInterface"},[this._v("GenInterface")])},staticRenderFns:[]};var E=n("C7Lr")({name:"GenInterface",components:{},props:{},data:function(){return{}},methods:{},watch:{},filters:{},mounted:function(){}},S,!1,function(e){n("3rt+")},"data-v-2233ce59",null).exports;a.default.use(u.a);var D=new u.a({routes:[{path:"/",name:"Home",redirect:"/GenTrade",component:d},{path:"/GenTrade",name:"GenTrade",component:R},{path:"/GenPrintF",name:"GenPrintF",component:L},{path:"/GenInterface",name:"GenInterface",component:E}]}),O=(n("0CLL"),n("09yM"),n("TcQY")),W=n.n(O),k=(n("+hAf"),n("rVsN")),M=n.n(k),$={methods:{success:function(e,t){return{isSuccess:!0,msg:t||"",data:e||{}}},fail:function(e,t){return{isSuccess:!1,msg:t||"",data:e||{}}},alert:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new M.a(function(a){e.$alert(t,n,{dangerouslyUseHTMLString:!0,closeOnPressEscape:!1,closeOnClickModal:!1}).then(function(e){return a(!0)}).catch(function(e){return a(!1)})})},repeat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\t").repeat(e)}},mounted:function(){(window.comps||(window.comps={}))[this.$options.name||"anonymous"]=this}};a.default.use(W.a,{size:"small",zIndex:3e3}),a.default.config.productionTip=!1,a.default.mixin($),new a.default({el:"#app",router:D,components:{App:l},template:"<App/>"})},gR3i:function(e,t){},iWT2:function(e,t){},yfIn:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.js.map